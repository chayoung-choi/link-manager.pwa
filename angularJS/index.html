<!DOCTYPE html>
<html>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<body>

<div ng-app="myApp" ng-controller="myCtrl">
	<p>Today's welcome message is:</p>
	<ul>
	  <li ng-repeat="x in myData">
	    {{ x.id + ' | ' + x.hero + ' | ' + x.shards }}
	  </li>
	</ul>
</div>

<p>The $http service requests a page on the server, and the response is set as the value of the "myWelcome" variable.</p>

<script>

var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope, $http) {
	/* 파라메터로 보낼 임의의 데이터 객체 */
	var sheet_name = "heros";
	//var id = "cyoung90";

	$http({
	  method: 'GET',
		// LM-url
		// https://script.google.com/macros/s/AKfycbzblyyKhXtgiWvkQaWRMObrq1BrazFJ1Bae2DEH5GQqg3VwMVM/exec
	  url: 'https://script.google.com/macros/s/AKfycbyNWc8-vFjZWLpKOAzKgaxgQ5QUOnKwEy0jxCgb4y4SbLqW5emb/exec?sheet_name='+sheet_name//+'&id='+id
	}).then(function successCallback(response) {
	    // this callback will be called asynchronously
	    // when the response is available
			console.log(response.data.list);
			$scope.myData = response.data.list;
			console.log($scope.myData);
	  }, function errorCallback(response) {
	    // called asynchronously if an error occurs
	    // or server returns response with an error status.
			console.log(response.data);
	  });
});
</script>

</body>
</html>
